### two leaves sros only no spine
name: dc


######### Global Variables for Config Engine #########
topology:
  kinds:
    vr-sros:
      image: sros:21.2R2
      license: /licenses/sros-license

  #######################################################
  nodes:
    #-----------------------------------------------------#
    leaf1:
      kind: vr-sros
      type: ixr-e-small
      mgmt_ipv4: 172.22.22.101
      startup-config: leaf1.cfg
    #-----------------------------------------------------#
    leaf2:
      kind: vr-sros
      type: ixr-e-small
      mgmt_ipv4: 172.22.22.102
      startup-config: leaf2.cfg
    #-----------------------------------------------------#
    #-----------------------------------------------------#
    client1:
      kind: linux
      #image: networkop/host:ifreload
      image: alpine
      exec:
        - ip link add link eth1 name eth1.1 type vlan id 1
        - ip addr add 10.0.0.101/24 dev eth1
        - ip addr add 10.0.0.101/24 dev eth1.1
        - ip link set eth1 up
        - ip link set eth1.1 up
        - ip route add 10.0.0.102 via 10.0.0.101 dev eth1.1

    client2:
      kind: linux
      #image: networkop/host:ifreload
      image: alpine
      exec:
        - ip link add link eth1 name eth1.1 type vlan id 1
        - ip addr add 10.0.0.102/24 dev eth1
        - ip addr add 10.0.0.102/24 dev eth1.1
        - ip link set eth1 up
        - ip link set eth1.1 up
        - ip route add 10.0.0.101 via 10.0.0.102 dev eth1.1

    #-----------------------------------------------------#

  links:

    - endpoints: ["leaf1:eth1", "leaf2:eth1"]
    - endpoints: ["leaf1:eth2", "client1:eth1"]
    - endpoints: ["leaf2:eth2", "client2:eth1"]

